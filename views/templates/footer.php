<br><br>
</div>
</div>
<!--end page wrapper -->
<!--start overlay-->
<div class="overlay toggle-icon"></div>
<!--end overlay-->
<!--Start Back To Top Button-->
<!-- <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a> -->
<!--End Back To Top Button-->
<footer class="page-footer">
    <!-- <p class="mb-0">Desarrollado por <a style="color: orangered" href="https://santandervalleycol.com/">Santander Valley Col. © </a><?php echo date('Y'); ?></p> -->
    <button id="chatBtn" class="btn btn-primary"><i class="fas fa-comment"></i></button>
    <style>
        /* styles.css */
        #chatBtn {
            position: fixed;
            bottom: 12px;
            right: 20px;
            z-index: 200;
        }
    </style>

    <div class="d-grid gap-2 d-md-flex justify-content-md-center">
        <a href="<?php echo BASE_URL . 'ventas'; ?>" class="btn btn-outline-primary me-md-2 custombtn" type="button">Nueva venta</a>
        <a href="<?php echo BASE_URL . 'cajas'; ?>" class="btn btn-success custombtn2 fw-bolder" type="button">Ir a caja</a>
    </div>
</footer>
</div>
<!--end wrapper-->
<!-- start switcher-->
<!-- <div class="switcher-wrapper">
    <div class="switcher-btn"> <i class='bx bx-cog bx-spin'></i>
    </div>
    <div class="switcher-body">
        <div class="d-flex align-items-center">
            <h5 class="mb-0 text-uppercase">Theme Customizer</h5>
            <button type="button" class="btn-close ms-auto close-switcher" aria-label="Close"></button>
        </div>
        <hr />
        <h6 class="mb-0">Theme Styles</h6>
        <hr />
        <div class="d-flex align-items-center justify-content-between">
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="lightmode" checked>
                <label class="form-check-label" for="lightmode">Light</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="darkmode">
                <label class="form-check-label" for="darkmode">Dark</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="semidark">
                <label class="form-check-label" for="semidark">Semi Dark</label>
            </div>
        </div>
        <hr />
        <div class="form-check">
            <input class="form-check-input" type="radio" id="minimaltheme" name="flexRadioDefault">
            <label class="form-check-label" for="minimaltheme">Minimal Theme</label>
        </div>
        <hr />
        <h6 class="mb-0">Header Colors</h6>
        <hr />
        <div class="header-colors-indigators">
            <div class="row row-cols-auto g-3">
                <div class="col">
                    <div class="indigator headercolor1" id="headercolor1"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor2" id="headercolor2"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor3" id="headercolor3"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor4" id="headercolor4"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor5" id="headercolor5"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor6" id="headercolor6"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor7" id="headercolor7"></div>
                </div>
                <div class="col">
                    <div class="indigator headercolor8" id="headercolor8"></div>
                </div>
            </div>
        </div>
        <hr />
        <h6 class="mb-0">Sidebar Colors</h6>
        <hr />
        <div class="header-colors-indigators">
            <div class="row row-cols-auto g-3">
                <div class="col">
                    <div class="indigator sidebarcolor1" id="sidebarcolor1"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor2" id="sidebarcolor2"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor3" id="sidebarcolor3"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor4" id="sidebarcolor4"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor5" id="sidebarcolor5"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor6" id="sidebarcolor6"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor7" id="sidebarcolor7"></div>
                </div>
                <div class="col">
                    <div class="indigator sidebarcolor8" id="sidebarcolor8"></div>
                </div>
            </div>
        </div>
    </div>
</div> -->
<!--end switcher -->




<!-- Bootstrap JS -->
<script src="<?php echo BASE_URL; ?>assets/js/bootstrap.bundle.min.js"></script>
<!--plugins-->
<script src="<?php echo BASE_URL; ?>assets/js/jquery.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/simplebar/js/simplebar.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/metismenu/js/metisMenu.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/chartjs/js/Chart.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/chartjs/js/Chart.extension.js"></script>
<!--app JS-->
<script src="<?php echo BASE_URL; ?>assets/js/app.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/all.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/DataTables/datatables.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/botones-perzonalizados.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/sweetalert2.all.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/ckeditor.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/funciones.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/jquery-ui.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/plugins/fullcalendar/js/main.min.js"></script>
<script src="<?php echo BASE_URL; ?>assets/js/es.js"></script>
<script>
    const base_url = '<?php echo BASE_URL; ?>';
</script>
<?php if (!empty($data['busqueda'])) { ?>
    <script>
        const nombreKey = '<?php echo $data['carrito']; ?>';
    </script>
    <script src="<?php echo BASE_URL . 'assets/js/' . $data['busqueda']; ?>"></script>
<?php } ?>
<?php if (!empty($data['script'])) { ?>
    <script src="<?php echo BASE_URL . 'assets/js/modulos/' . $data['script']; ?>"></script>
<?php } ?>





<div class="modal fade" id="chatModal" tabindex="-1" aria-labelledby="chatModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header border border-0">
                <h2 class="modal-title" id="chatModalLabel">Mi asistente</h2>
            </div>
            <div class="modal-body">
               

                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>AI Chat Assistant</title>
                    <style>
                        body {
                            display: flex;
                            flex-direction: column;
                            height: 100vh;
                        }

                        .chat-container {
                            flex: 1;
                            display: flex;
                            flex-direction: column;
                            overflow-y: auto;
                            padding: 10px;
                            margin-bottom: 20px;
                        }

                        .message {
                            padding: 10px;
                            margin: 5px 0;
                            border-radius: 5px;
                        }

                        .message.user {
                            background-color: #007bff;
                            color: white;
                            align-self: flex-end;
                        }

                        .message.ai {
                            background-color: #f1f1f1;
                            align-self: flex-start;
                        }

                        .input-group {
                            margin-top: auto;
                        }

                        .predefined-buttons {
                            display: flex;
                            flex-wrap: wrap;
                            justify-content: space-around;
                            margin-bottom: 10px;
                        }

                        .predefined-buttons button {
                            margin: 5px;
                        }
                    </style>
                </head>

                <body>
                    <div class="container">
                        <div class="chat-container" id="chat-container">
                            <!-- Messages will be appended here -->
                        </div>
                        <div class="predefined-buttons">
                            <button class="btn btn-info" data-question="stock bajo en la semana">Stock bajo en la semana</button>
                            <button class="btn btn-info" data-question="stock alto en el mes">Stock alto en el mes</button>
                            <button class="btn btn-info" data-question="producto con más ventas en el año">Producto con más ventas en el año</button>
                            <button class="btn btn-info" data-question="producto con más ventas">Producto con más ventas</button>
                            <button class="btn btn-info" data-question="consejo del día">Consejo del día</button>
                        </div>
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" id="user-input" placeholder="Type a message">
                            <div class="input-group-append">
                                <button class="btn btn-primary" id="send-button">Send</button>
                            </div>
                        </div>
                    </div>

                    <script>
                        $(document).ready(function() {
                            $('.predefined-buttons button').on('click', function() {
                                const question = $(this).data('question');
                                appendMessage('user', question);
                                sendToAPI(question);
                            });

                            $('#send-button').on('click', function() {
                                const userInput = $('#user-input').val();
                                if (userInput.trim() !== '') {
                                    appendMessage('user', userInput);
                                    $('#user-input').val('');
                                    sendToAPI(userInput);
                                }
                            });

                            $('#user-input').on('keypress', function(e) {
                                if (e.which === 13) {
                                    $('#send-button').click();
                                }
                            });

                            function appendMessage(sender, text) {
                                const messageElement = $('<div>').addClass('message').addClass(sender).text(text);
                                $('#chat-container').append(messageElement);
                                $('#chat-container').scrollTop($('#chat-container')[0].scrollHeight);
                            }

                            function sendToAPI(userInput) {
                                $.ajax({
                                    url: 'chat.php',
                                    method: 'POST',
                                    data: {
                                        message: userInput
                                    },
                                    success: function(response) {
                                        appendMessage('ai', response);
                                    },
                                    error: function() {
                                        appendMessage('ai', 'Error communicating with the server.');
                                    }
                                });
                            }
                        });
                    </script>
            


            </div>
        </div>
    </div>
</div>





<script>
    document.addEventListener("DOMContentLoaded", function() {
        var chatBtn = document.getElementById("chatBtn");
        var modal = document.getElementById("chatModal");

        chatBtn.addEventListener("click", function() {
            $(modal).modal("show");
        });
    });
</script>


</body>

</html>